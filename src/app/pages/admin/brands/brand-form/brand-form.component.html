<app-admin-page-header icon="ðŸ·ï¸"
    [title]="isEditing ? ('ADMIN.BRANDS.EDIT_TITLE' | translate) : ('ADMIN.BRANDS.NEW_TITLE' | translate)"
    [subtitle]="isEditing ? ('ADMIN.BRANDS.EDIT_SUBTITLE' | translate) : ('ADMIN.BRANDS.NEW_SUBTITLE' | translate)"
    [showSaveCancel]="true" [isSaving]="isSubmitting" [isFormInvalid]="brandForm.invalid"
    [hasUnsavedChanges]="brandForm.dirty" [confirmOnCancel]="false" (onSave)="onSubmit()" (onCancel)="onCancel()">
</app-admin-page-header>

<div class="form-container">
    <form [formGroup]="brandForm" (ngSubmit)="onSubmit()" class="admin-form">

        <!-- Brand Name -->
        <div class="form-group">
            <label>{{ 'ADMIN.BRANDS.FORM.NAME' | translate }} *</label>
            <input type="text" formControlName="name" [placeholder]="'ADMIN.BRANDS.FORM.NAME_PLACEHOLDER' | translate">
        </div>

        <!-- Slug -->
        <div class="form-group">
            <label>{{ 'ADMIN.BRANDS.FORM.SLUG' | translate }} *</label>
            <input type="text" formControlName="slug" [placeholder]="'ADMIN.BRANDS.FORM.SLUG_PLACEHOLDER' | translate">
            <small>{{ 'ADMIN.BRANDS.FORM.SLUG_HINT' | translate }}</small>
        </div>

        <!-- Description (Multilingual) -->
        <div class="form-section">
            <h3>{{ 'ADMIN.BRANDS.FORM.DESCRIPTION_SECTION' | translate }}</h3>
            <div class="form-row">
                <div class="form-group">
                    <label>{{ 'ADMIN.BRANDS.FORM.DESCRIPTION_ES' | translate }}</label>
                    <textarea formControlName="description_es" rows="3"
                        [placeholder]="'ADMIN.BRANDS.FORM.DESCRIPTION_PLACEHOLDER' | translate"></textarea>
                </div>
                <div class="form-group">
                    <label>{{ 'ADMIN.BRANDS.FORM.DESCRIPTION_EN' | translate }}</label>
                    <textarea formControlName="description_en" rows="3"
                        [placeholder]="'ADMIN.BRANDS.FORM.DESCRIPTION_PLACEHOLDER' | translate"></textarea>
                </div>
            </div>
        </div>

        <!-- Logo Upload -->
        <div class="form-group">
            <label>{{ 'ADMIN.BRANDS.FORM.LOGO' | translate }}</label>
            <input type="file" (change)="onFileSelected($event)" accept="image/*">
            <div *ngIf="previewUrl" class="logo-preview">
                <img [src]="previewUrl" alt="Logo preview">
            </div>
        </div>

        <!-- Website -->
        <div class="form-group">
            <label>{{ 'ADMIN.BRANDS.FORM.WEBSITE' | translate }}</label>
            <input type="url" formControlName="website" placeholder="https://www.example.com">
        </div>

        <!-- Country of Origin -->
        <div class="form-group">
            <label>{{ 'ADMIN.BRANDS.FORM.COUNTRY' | translate }}</label>
            <input type="text" formControlName="countryOfOrigin"
                [placeholder]="'ADMIN.BRANDS.FORM.COUNTRY_PLACEHOLDER' | translate">
        </div>

        <!-- Order -->
        <div class="form-group">
            <label>{{ 'ADMIN.BRANDS.FORM.ORDER' | translate }}</label>
            <input type="number" formControlName="order" min="0">
        </div>

        <!-- Status & Visibility -->
        <div class="toggle-group-card">
            <h4 class="card-title">
                <span class="card-icon">ðŸŽ¯</span>
                {{ 'ADMIN.BRANDS.FORM.STATUS_SECTION' | translate }}
            </h4>
            <div class="toggle-switches-group">
                <div class="form-group">
                    <app-toggle-switch [control]="$any(brandForm.get('featured'))"
                        [label]="'ADMIN.BRANDS.FORM.FEATURED' | translate" icon="â­"
                        [hint]="'ADMIN.BRANDS.FORM.FEATURED_HINT' | translate">
                    </app-toggle-switch>
                </div>
                <div class="form-group">
                    <app-toggle-switch [control]="$any(brandForm.get('active'))"
                        [label]="'ADMIN.BRANDS.FORM.ACTIVE' | translate" icon="âœ…">
                    </app-toggle-switch>
                </div>
            </div>
        </div>
    </form>
</div>