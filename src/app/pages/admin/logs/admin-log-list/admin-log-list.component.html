<app-admin-page-header icon="üìä" [title]="'ADMIN.LOGS.TITLE' | translate" subtitle="View admin activity history">
    <div class="stats" *ngIf="!loading && !error">
        <span class="total-logs">{{ 'ADMIN.LOGS.TOTAL' | translate }}: {{ allLogs.length }}</span>
        <span class="page-info">{{ 'ADMIN.LOGS.PAGE' | translate }} {{ currentPage }} {{ 'ADMIN.LOGS.OF' | translate }}
            {{ totalPages }}</span>
    </div>
</app-admin-page-header>

<div class="log-list-container">

    <div class="table-responsive" *ngIf="!loading && !error">
        <table class="admin-table">
            <thead>
                <tr>
                    <th style="width: 180px;">{{ 'ADMIN.LOGS.TH_DATE' | translate }}</th>
                    <th style="width: 250px;">{{ 'ADMIN.LOGS.TH_USER' | translate }}</th>
                    <th style="width: 140px;">{{ 'ADMIN.LOGS.TH_IP' | translate }}</th>
                    <th style="width: 120px;">{{ 'ADMIN.LOGS.TH_MODULE' | translate }}</th>
                    <th style="width: 100px;">{{ 'ADMIN.LOGS.TH_ACTION' | translate }}</th>
                    <th>{{ 'ADMIN.LOGS.TH_DETAILS' | translate }}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let log of displayedLogs">
                    <td class="timestamp-cell">{{ log.timestamp | date:'MMM d, y, h:mm a' }}</td>
                    <td class="user-cell">{{ log.userEmail }}</td>
                    <td><span class="badg-ip">{{ log.ipAddress || '‚Äî' }}</span></td>
                    <td><span class="badge badge-module" [attr.data-module]="log.module">{{ log.module }}</span></td>
                    <td><span class="badge badge-action" [attr.data-action]="log.action">{{ log.action }}</span></td>
                    <td class="details-cell">{{ log.details }}</td>
                </tr>
                <tr *ngIf="displayedLogs.length === 0">
                    <td colspan="5" class="no-data">{{ 'ADMIN.LOGS.EMPTY' | translate }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    <div class="pagination" *ngIf="!loading && !error && totalPages > 1">
        <button class="pagination-btn" (click)="previousPage()" [disabled]="currentPage === 1">
            ‚Üê {{ 'ADMIN.COMMON.PREVIOUS' | translate }}
        </button>

        <div class="page-numbers">
            <button *ngFor="let page of pageNumbers" class="page-number" [class.active]="page === currentPage"
                (click)="goToPage(page)">
                {{ page }}
            </button>
        </div>

        <button class="pagination-btn" (click)="nextPage()" [disabled]="currentPage === totalPages">
            {{ 'ADMIN.COMMON.NEXT' | translate }} ‚Üí
        </button>
    </div>

    <div *ngIf="loading" class="loading-state">
        <div class="spinner"></div>
        <p>{{ 'ADMIN.COMMON.LOADING' | translate }}</p>
    </div>

    <div *ngIf="error" class="error-state">
        <p>{{ 'ADMIN.COMMON.ERROR' | translate }}</p>
    </div>
</div>