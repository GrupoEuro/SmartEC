<div class="product-dashboard-layout">
    <!-- Sticky Command Header -->
    <header class="command-header">
        <div class="header-left">
            <h1 class="page-title">{{ 'ADMIN.PDF_LIST.TITLE' | translate }}</h1>
            <span class="product-count" *ngIf="(pdfs$ | async)?.length as count">
                {{ count }} Items
            </span>
        </div>

        <div class="header-right">
            <button class="btn-primary-action" routerLink="/admin/pdfs/new">
                <span class="icon">‚ûï</span>
                <span class="text">{{ 'ADMIN.PDF_LIST.BTN_ADD' | translate }}</span>
            </button>
        </div>
    </header>

    <div class="dashboard-content">
        <!-- Main Grid Area -->
        <main class="product-grid-view full-width">
            <div class="table-glass-container">
                <table class="rich-table">
                    <thead>
                        <tr>
                            <th style="width: 100px;">{{ 'ADMIN.PDF_LIST.TH_THUMBNAIL' | translate }}</th>
                            <th>{{ 'ADMIN.PDF_LIST.TH_INFO' | translate }}</th>
                            <th>{{ 'ADMIN.PDF_LIST.TH_CATEGORY' | translate }}</th>
                            <th>{{ 'ADMIN.PDF_LIST.TH_METRICS' | translate }}</th>
                            <th>{{ 'ADMIN.PDF_LIST.TH_ACCESS' | translate }}</th>
                            <th>{{ 'ADMIN.PDF_LIST.TH_STATUS' | translate }}</th>
                            <th>{{ 'ADMIN.PDF_LIST.TH_ACTIONS' | translate }}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let pdf of pdfs$ | async">
                            <td>
                                <div class="pdf-preview-wrapper">
                                    @if (pdf.thumbnailUrl) {
                                    <img [src]="pdf.thumbnailUrl" alt="Thumbnail" class="pdf-thumb">
                                    } @else {
                                    <span class="pdf-thumb-placeholder">üìÑ</span>
                                    }
                                </div>
                            </td>
                            <td>
                                <div class="product-identity">
                                    <span class="product-name strong" [routerLink]="['/admin/pdfs/edit', pdf.id]">
                                        {{ pdf.title.en }}
                                    </span>
                                    <span class="product-sku">{{ pdf.title.es }}</span>
                                    <div class="pdf-meta-small">{{ 'ADMIN.PDF_LIST.CREATED' | translate }}: {{
                                        pdf.createdAt | date:'shortDate' }}</div>
                                </div>
                            </td>
                            <td>
                                <span class="category-badge">{{ getCategoryLabel(pdf.category) }}</span>
                            </td>
                            <td>
                                <div class="metric-row">
                                    <span class="size-tag">{{ formatFileSize(pdf.fileSize) }}</span>
                                </div>
                                <div class="metric-row">
                                    <span class="download-tag">‚¨á {{ pdf.downloadCount }}</span>
                                </div>
                            </td>
                            <td>
                                @if (pdf.isPublic) {
                                <span class="access-badge public">
                                    üåê {{ 'ADMIN.PDF_LIST.ACCESS_PUBLIC' | translate }}
                                </span>
                                } @else if (pdf.requiresAuth) {
                                <span class="access-badge restricted">
                                    üîí {{ 'ADMIN.PDF_LIST.ACCESS_LOGIN' | translate }}
                                </span>
                                } @else {
                                <span class="access-badge private">
                                    üîê {{ 'ADMIN.PDF_LIST.ACCESS_PRIVATE' | translate }}
                                </span>
                                }
                            </td>
                            <td>
                                <div class="stock-pill" [class.success]="pdf.active" [class.danger]="!pdf.active">
                                    <span class="dot"></span>
                                    <span class="status-text">
                                        {{ pdf.active ? ('ADMIN.PDF_LIST.STATUS_ACTIVE' | translate) :
                                        ('ADMIN.PDF_LIST.STATUS_INACTIVE' | translate) }}
                                    </span>
                                </div>
                            </td>
                            <td>
                                <div class="row-actions">
                                    <button class="btn-icon-ghost" [routerLink]="['/admin/pdfs/edit', pdf.id]"
                                        [title]="'ADMIN.COMMON.EDIT' | translate">
                                        ‚úèÔ∏è
                                    </button>
                                    <button class="btn-icon-ghost danger" (click)="deletePDF(pdf)"
                                        [title]="'ADMIN.COMMON.DELETE' | translate">
                                        üóëÔ∏è
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr *ngIf="(pdfs$ | async)?.length === 0">
                            <td colspan="7" class="no-data">
                                <div class="empty-state-content">
                                    <span class="empty-icon">üìÑ</span>
                                    <p>{{ 'ADMIN.PDF_LIST.EMPTY' | translate }}</p>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>
</div>